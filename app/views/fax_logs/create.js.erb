var apiResponse = JSON.parse('<%= @sorted_faxes.to_json.html_safe %>');
var pageNumberDisplay = 1;
if (apiResponse) {
	$("#load-icon").hide();
	paginateFaxes(apiResponse);
	buildTableRows(apiResponse, pageNumberDisplay);
	pageNumberClick();
}

function pageNumberClick() {
	$("#pagination-ul").on('click', $(".page-item"), (event) => {
		if ($(event.target).hasClass('page-link')) {
			let $eventTargetText = $(event.target).text();

			if ($eventTargetText === backButtonText) {
				currentPageNumber -= 1;
			} else if ($eventTargetText === forwardButtonText) {
				currentPageNumber += 1;
			} else {
				currentPageNumber = parseInt($eventTargetText);
			}

			$("tbody").empty();
			$("#pagination-ul").empty();
			buildTableRows(apiResponse, currentPageNumber);
			paginateFaxes(apiResponse);
		}
	});
}
